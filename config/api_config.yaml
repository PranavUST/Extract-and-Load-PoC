version: 1.0

source:
  type: REST_API
  api:
    url: http://127.0.0.1:5000/v1/data
    method: GET
    auth:
      type: static_token
      token: "{{API_TOKEN}}"
    headers: {}
    pagination:
      max_pages: 10
      page_param: page
      page_size_param: limit
      page_size: 100
    timeout: 30
    data_path: data.items
    params: {}
    retries: 3

destination:
  csv:
    output_path: ./data/output.csv
    write_mode: overwrite
  database:
    enabled: true
    type: postgresql
    table: api_data
    auto_create_table: true
    handle_conflicts: true

execution:
  time_window:
    enabled: false

secrets:
  - API_TOKEN
